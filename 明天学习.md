# 2022年1月11日16:12:46

```sql
update odrm_interviewer_scheduling_t
set time_window = 2
where
isnull(time_window)
and 
DATE_FORMAT(interview_start_time,'%H:%i:%s') between '18:00:00' and '23:59:59'
;
```

```sql
SELECT
	*
FROM
	odrm_interviewer_information_t
	where 
	status = 1
	and interviewer_status = 1
	and 
	effective_time >= now() >= DATE_SUB(effective_time, INTERVAL 50 DAY)
	AND id = 861
```


```java
private void sendWeLinkMessageOnlineStart(String titleInfo, String applicant, Long reviewerId) {
        IRequestContext requestContext = RequestContextManager.getCurrent(false);
        threadPoolExecutor.execute(() -> {
            RequestContextManager.setCurrent(requestContext);
            WelinkMessageContent content = new WelinkMessageContent();
            content.setComplaintTitle(titleInfo);
            WelinkMessageTitle title = new WelinkMessageTitle();
            title.setApplicant(applicant);
            try {
                welinkMessageCommon.sendWelinkMessage(WelinkMessageConstant.COMPLAINT_HANDLER, content,
                        title, reviewerId, null);
            } catch (ApplicationException | IllegalAccessException | AuthException | OdrmWbException e) {
                log.error("online appeal send reviewer message error", e);
            }
        });
    }

```

Spring手动提交事务

```Java


   @Resource
    private DataSourceTransactionManager dataSourceTransactionManager;
    
    
    TransactionStatus transactionStatus = dataSourceTransactionManager.getTransaction(
            transactionDefinition); // 开启事务
	    
	    dataSourceTransactionManager.rollback(transactionStatus); // 回滚事务
	    
	    dataSourceTransactionManager.commit(transactionStatus); // 提交事务


```










# 2022年2月14日16:05:50
- https://www.jianshu.com/p/039d6df30fea
- https://blog.csdn.net/bobiexian4166/article/details/105412209
- https://blog.csdn.net/weixin_45582733/article/details/111240423
